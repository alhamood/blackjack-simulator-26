<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategy Editor - Blackjack Simulator</title>
    <link rel="stylesheet" href="/static/styles.css">
    <style>
        /* Additional styles for strategy editor */
        .editor-container {
            max-width: 1400px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #3498db;
            text-decoration: none;
            font-size: 1rem;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .metadata-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .metadata-section input,
        .metadata-section textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 1rem;
            font-family: inherit;
        }

        .metadata-section textarea {
            resize: vertical;
            min-height: 80px;
        }

        .load-strategy-section {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .load-strategy-section select {
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 1rem;
            margin-right: 10px;
            min-width: 250px;
        }

        .strategy-tables {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .table-section {
            margin-bottom: 40px;
        }

        .table-section:last-child {
            margin-bottom: 0;
        }

        .table-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .strategy-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .strategy-table th,
        .strategy-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .strategy-table th {
            background-color: #34495e;
            color: white;
            font-weight: 600;
        }

        .strategy-table th.row-header {
            background-color: #2c3e50;
        }

        .strategy-table select {
            width: 100%;
            padding: 4px;
            border: 1px solid #bdc3c7;
            border-radius: 3px;
            font-size: 0.85rem;
        }

        .action-buttons {
            text-align: center;
            padding: 20px;
        }

        .action-buttons .btn {
            margin: 0 10px;
        }

        .info-box {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 0.95rem;
            color: #34495e;
        }
    </style>
</head>
<body>
    <div class="container editor-container">
        <header>
            <a href="/" class="back-link">‚Üê Back to Simulator</a>
            <h1>Strategy Editor</h1>
            <p class="subtitle">Create and edit custom blackjack strategies</p>
        </header>

        <main>
            <!-- Info Box -->
            <div class="info-box">
                <strong>How to use:</strong> Define actions for each possible hand combination.
                You can load an existing strategy to edit, or start from scratch.
                When done, save as JSON or use directly in the simulator.
            </div>

            <!-- Metadata Section -->
            <section class="metadata-section">
                <h2>Strategy Information</h2>
                <div class="form-row">
                    <label for="strategy-name">Strategy Name:</label>
                    <input type="text" id="strategy-name" placeholder="My Custom Strategy" value="My Custom Strategy">
                </div>
                <div class="form-row">
                    <label for="strategy-description">Description (optional):</label>
                    <textarea id="strategy-description" placeholder="Description of your strategy..."></textarea>
                </div>
            </section>

            <!-- Load Existing Strategy -->
            <section class="load-strategy-section">
                <h2>Load Existing Strategy</h2>
                <div class="form-row">
                    <select id="existing-strategies">
                        <option value="">Select a strategy to load...</option>
                    </select>
                    <button id="load-strategy-btn" class="btn btn-secondary">Load Strategy</button>
                    <button id="reset-btn" class="btn btn-secondary">Reset to Default</button>
                </div>
            </section>

            <!-- Strategy Tables -->
            <section class="strategy-tables">
                <h2>Strategy Tables</h2>

                <!-- Hard Totals Table -->
                <div class="table-section">
                    <h3>Hard Totals (Player 5-21 vs Dealer 2-A)</h3>
                    <div style="overflow-x: auto;">
                        <table class="strategy-table" id="hard-totals-table"></table>
                    </div>
                </div>

                <!-- Soft Totals Table -->
                <div class="table-section">
                    <h3>Soft Totals (Player 13-21 vs Dealer 2-A)</h3>
                    <div style="overflow-x: auto;">
                        <table class="strategy-table" id="soft-totals-table"></table>
                    </div>
                </div>

                <!-- Pairs Table -->
                <div class="table-section">
                    <h3>Pairs (2-2 through A-A vs Dealer 2-A)</h3>
                    <div style="overflow-x: auto;">
                        <table class="strategy-table" id="pairs-table"></table>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button id="quick-test-btn" class="btn btn-secondary">Quick Test (10K hands)</button>
                <span id="quick-test-result" style="margin-left: 10px; font-weight: 600;"></span>
                <br><br>
                <button id="save-json-btn" class="btn btn-primary">Save as JSON</button>
                <button id="use-in-sim-btn" class="btn btn-primary">Use in Simulation</button>
            </div>
        </main>

        <footer>
            <p>Blackjack Simulator v0.9 | <a href="https://github.com/alhamood/blackjack-simulator-26">GitHub</a></p>
        </footer>
    </div>

    <script src="/static/strategy-editor.js?v=0.9.1"></script>
</body>
</html>
